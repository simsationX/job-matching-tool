{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content %}
    <div style="padding-top: 30px">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h3 class="title">Mail-Vorschau für {{ candidate.name }}</h3>

            {# EasyAdmin-style Zurück-Button #}
            <a class="btn btn-secondary action-index" href="{{ ea_url()
                .setController('App\\Controller\\CandidateCrudController')
                .setAction('detail')
                .setEntityId(candidate.id)
            }}" role="button" data-action-name="index">
                <span class="btn-label"><span class="action-label">
                        <i class="fa fa-arrow-left"></i> Zurück zum Kandidat
                    </span></span>
            </a>
        </div>

        <form method="post" action="{{ path('candidate_match_mail_send', {id: candidate.id, matchId: match.id}) }}">
            <div class="form-group mb-3">
                <label for="mailText" class="form-label">Jobbeschreibung anpassen</label>
                <textarea id="mailText" name="mailText" rows="15" class="form-control">{{ match.description }}</textarea>
            </div>

            <div class="d-flex justify-content-start gap-2 mb-3">
                <a href="{{ ea_url()
                    .setController('App\\Controller\\CandidateCrudController')
                    .setAction('detail')
                    .setEntityId(candidate.id)
                }}" class="btn btn-secondary">
                    Abbrechen
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="fa fa-paper-plane"></i> Mail senden
                </button>
            </div>
        </form>
    </div>
{% endblock %}
